<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ó–∞–ø–∏—Å—å –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ</title>
  
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #f1f8e9);
      color: #222;
    }

    .container {
      max-width: 700px;
      margin: 50px auto;
      padding: 30px;
      background: #ffffff;
      border-radius: 20px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.1);
      animation: fadeInUp 1s ease forwards;
      opacity: 0;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h2 {
      text-align: center;
      color: #2c3e50;
      font-size: 28px;
      margin-bottom: 25px;
      animation: fadeIn 1.5s ease 0.3s forwards;
      opacity: 0;
    }

    .logo {
      text-align: center;
      margin-bottom: 20px;
      animation: slideDown 1s ease forwards;
      opacity: 0;
    }

    .logo img {
      width: 100%;
      max-width: 360px;
      height: auto;
      transition: transform 0.4s ease;
      border-radius: 16px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .logo img:hover {
      transform: scale(1.04);
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    label {
      display: block;
      margin-top: 20px;
      font-weight: 600;
      color: #333;
    }

    input, textarea {
      width: 100%;
      padding: 12px;
      margin-top: 6px;
      border-radius: 10px;
      background-color: #f9f9f9;
      border: 1px solid #ccc;
      font-size: 16px;
      resize: none;
      transition: box-shadow 0.3s ease;
    }

    input:focus, textarea:focus {
      box-shadow: 0 0 0 2px #42a5f5aa;
      outline: none;
    }

    .button-group-vertical,
    .button-group-grid {
      margin-top: 10px;
      display: grid;
      gap: 10px;
    }

    .button-group-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .button-group-vertical {
      grid-template-columns: 1fr;
    }

    .button-tile {
      text-align: center;
      padding: 12px;
      border-radius: 12px;
      background: #e3f2fd;
      color: #333;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    .button-tile:hover {
      background: #bbdefb;
      transform: scale(1.02);
    }

    .button-tile.selected {
      background: #42a5f5;
      color: white;
      font-weight: bold;
      transform: scale(1.05);
    }

    .checkbox-wrapper {
      display: flex;
      align-items: flex-start;
      margin-top: 20px;
    }

    .checkbox-wrapper input[type="checkbox"] {
      appearance: none;
      width: 20px;
      height: 20px;
      border: 2px solid #42a5f5;
      border-radius: 4px;
      position: relative;
      cursor: pointer;
      margin-right: 10px;
      margin-top: 3px;
      flex-shrink: 0;
    }

    .checkbox-wrapper input[type="checkbox"]:checked {
      background-color: #42a5f5;
    }

    .checkbox-wrapper input[type="checkbox"]:checked::after {
      content: '';
      position: absolute;
      left: 5px;
      top: 1px;
      width: 6px;
      height: 12px;
      border: solid white;
      border-width: 0 2px 2px 0;
      transform: rotate(45deg);
    }

    .checkbox-wrapper label {
      font-size: 14px;
      font-style: normal;
      color: #444;
      line-height: 1.5;
      margin: 0;
    }

    button.submit {
      width: 100%;
      margin-top: 30px;
      padding: 16px;
      font-size: 18px;
      background: #42a5f5;
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      animation: fadeIn 1s ease 0.4s forwards;
      opacity: 0;
    }

    button.submit:hover {
      background: #1e88e5;
      transform: scale(1.02);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">
      <img src="https://i.ibb.co/TxRVvjpq/IMG-20250708-214806-835.png" alt="–õ–æ–≥–æ—Ç–∏–ø" />
    </div>
    <h2>üìã –ó–∞–ø–∏—Å—å –Ω–∞ –∑–∞–Ω—è—Ç–∏—è</h2>
    <form>
      <label>–§–ò–û —Ä–æ–¥–∏—Ç–µ–ª—è (–∑–∞–∫–æ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è):</label>
      <input type="text" required />

      <label>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏:</label>
      <input type="tel" required />

      <label>–í–æ–∑—Ä–∞—Å—Ç —Ä–µ–±—ë–Ω–∫–∞:</label>
      <input type="number" required />

      <label>–ò–º–µ—é—Ç—Å—è –ª–∏ —É —Ä–µ–±—ë–Ω–∫–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏—è –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –Ω–∞–≥—Ä—É–∑–∫–∞–º?</label>
      <textarea rows="2"></textarea>

      <label>–û–ø—ã—Ç –∑–∞–Ω—è—Ç–∏–π —Å–ø–æ—Ä—Ç–æ–º (—É–∫–∞–∑–∞—Ç—å –∫–∞–∫–∏–º –µ—Å–ª–∏ –∏–º–µ–µ—Ç—Å—è):</label>
      <textarea rows="2"></textarea>

      <label>–¶–µ–ª—å –∑–∞–ø–∏—Å–∏ –Ω–∞ –∑–∞–Ω—è—Ç–∏—è (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ):</label>
      <div class="button-group-grid" id="goals">
        <div class="button-tile">–û–±—â–µ–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ</div>
        <div class="button-tile">–°–∞–º–æ–æ–±–æ—Ä–æ–Ω–∞ –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞</div>
        <div class="button-tile">–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—å–µ—Ä–∞</div>
        <div class="button-tile">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ä–æ—Å—Ç</div>
        <div class="button-tile">–°–æ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–±–µ–Ω–∫–∞</div>
        <div class="button-tile">–ò–∑—É—á–µ–Ω–∏–µ –≤–æ—Å—Ç–æ—á–Ω—ã–µ –±–æ–µ–≤—ã—Ö –∏—Å–∫—É—Å—Å—Ç–≤</div>
        <div class="button-tile">–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–≥—É–ª—è—Ü–∏—è</div>
        <div class="button-tile">–î—Ä—É–≥–æ–µ</div>
      </div>

      <label>–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –∑–∞–ø–∏—Å–∏:</label>
      <div class="button-group-vertical" id="days">
        <div class="button-tile">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ (18:00-19:20)</div>
        <div class="button-tile">–°—Ä–µ–¥–∞ (18:00-19:20)</div>
        <div class="button-tile">–ü—è—Ç–Ω–∏—Ü–∞ (18:00-19:20)</div>
      </div>

      <label>–ö–∞–∫ –≤—ã —É–∑–Ω–∞–ª–∏ –æ –Ω–∞—Å?</label>
      <div class="button-group-grid" id="source">
        <div class="button-tile">–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</div>
        <div class="button-tile">–†–µ–∫–ª–∞–º–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ</div>
        <div class="button-tile">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥—Ä—É–∑–µ–π</div>
        <div class="button-tile">–î—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±</div>
      </div>

      <label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</label>
      <textarea rows="3"></textarea>

      <label>–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:</label>
      <div class="checkbox-wrapper">
        <input type="checkbox" required />
        <label><em>—è –¥–∞—é —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</em> –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–º –∑–∞–∫–æ–Ω–æ–º ‚Ññ152-–§–ó "–û –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö" –æ—Ç 27.07.2006 –≥.</label>
      </div>

      <button type="submit" class="submit">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</button>
    </form>
  </div>

  <script>
    document.querySelectorAll('.button-tile').forEach(tile => {
      tile.addEventListener('click', () => {
        tile.classList.toggle('selected');
      });
    });
  </script>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    const tg = window.Telegram.WebApp;

    document.querySelector('.submit').addEventListener('click', function(e) {
      e.preventDefault();

      const getSelected = (selector) => {
        return Array.from(document.querySelectorAll(selector + ' .button-tile.selected'))
                    .map(el => el.textContent.trim());
      };

      const data = {
        parent: document.querySelectorAll('input')[0].value,
        phone: document.querySelectorAll('input')[1].value,
        age: document.querySelectorAll('input')[2].value,
        contraindications: document.querySelectorAll('textarea')[0].value,
        sport_experience: document.querySelectorAll('textarea')[1].value,
        goals: getSelected('#goals'),
        days: getSelected('#days'),
        source: getSelected('#source'),
        comment: document.querySelectorAll('textarea')[2].value,
        consent: document.querySelector('input[type="checkbox"]').checked
      };

      if (!data.consent) {
        alert("‚ùó –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.");
        return;
      }

      tg.sendData(JSON.stringify(data));
      tg.close();
    });
  </script>

  <script>
    function enforceSingleSelection(groupId) {
      const group = document.querySelector(`#${groupId}`);
      group.querySelectorAll('.button-tile').forEach(tile => {
        tile.addEventListener('click', () => {
          group.querySelectorAll('.button-tile').forEach(btn => btn.classList.remove('selected'));
          tile.classList.add('selected');
        });
      });
    }

    // –û–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä
    enforceSingleSelection('days');
    enforceSingleSelection('source');

    // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
    const multiTiles = document.querySelectorAll('#goals .button-tile');
    multiTiles.forEach(tile => {
      tile.addEventListener('click', () => {
        tile.classList.toggle('selected');
      });
    });
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      function enforceSingleSelection(groupId) {
        const group = document.querySelector(`#${groupId}`);
        group.querySelectorAll('.button-tile').forEach(tile => {
          tile.addEventListener('click', () => {
            group.querySelectorAll('.button-tile').forEach(btn => btn.classList.remove('selected'));
            tile.classList.add('selected');
          });
        });
      }

      // –û–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä
      enforceSingleSelection('days');
      enforceSingleSelection('source');

      // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
      const multiTiles = document.querySelectorAll('#goals .button-tile');
      multiTiles.forEach(tile => {
        tile.addEventListener('click', () => {
          tile.classList.toggle('selected');
        });
      });
    });
  </script>
</body>
</html>
